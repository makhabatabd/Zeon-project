{"ast":null,"code":"var _jsxFileName = \"/Users/makhabatabdisattarova/Desktop/ZEON IT HUB/main-project/src/context/favoriteContext.js\",\n    _s = $RefreshSig$();\n\nimport React, { useReducer } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const favoriteContext = /*#__PURE__*/React.createContext();\nconst INIT_STATE = {\n  favorite: JSON.parse(localStorage.getItem(\"favorite\")),\n  favoriteLength: 0\n};\n\nconst reducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : INIT_STATE;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case \"GET_FAVORITE\":\n      return { ...state,\n        favorite: action.payload,\n        favoriteLength: action.payload.products.length\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst FavoriteContextProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [state, dispatch] = useReducer(reducer, INIT_STATE);\n\n  function getFavorite() {\n    let favorite = JSON.parse(localStorage.getItem(\"favorite\"));\n\n    if (!favorite) {\n      favorite = {\n        products: []\n      };\n      localStorage.setItem(\"favorite\", JSON.stringify(favorite));\n    }\n\n    dispatch({\n      type: \"GET_FAVORITE\",\n      payload: favorite\n    });\n  }\n\n  function addProductToFavorite(product) {\n    let favorite = JSON.parse(localStorage.getItem(\"favorite\"));\n\n    if (!favorite) {\n      favorite = {\n        products: []\n      };\n    }\n\n    let newProduct = {\n      item: product // count: 1,\n\n    };\n    let isProductInFavorite = favorite.products.some(item => item.item.id == product.id);\n\n    if (isProductInFavorite) {\n      favorite.products = favorite.products.filter(item => item.item.id != product.id);\n    } else {\n      favorite.products.push(newProduct);\n    }\n\n    localStorage.setItem(\"favorite\", JSON.stringify(favorite));\n    getFavorite();\n  }\n\n  function checkItemInFavorite(id) {\n    let favorite = JSON.parse(localStorage.getItem(\"favorite\"));\n\n    if (!favorite) {\n      favorite = {\n        products: []\n      };\n    }\n\n    let isProductInFavorite = favorite.products.some(item => item.item.id == id);\n    return isProductInFavorite;\n  }\n\n  function deleteFromFavorite(id) {\n    let favorite = JSON.parse(localStorage.getItem(\"favorite\"));\n\n    if (!favorite) {\n      favorite = {\n        products: []\n      };\n    }\n\n    favorite.products = favorite.products.filter(item => item.item.id != id);\n    localStorage.setItem(\"favorite\", JSON.stringify(favorite));\n    getFavorite();\n  }\n\n  return /*#__PURE__*/_jsxDEV(favoriteContext.Provider, {\n    value: {\n      favorite: state.favorite,\n      favoriteLength: state.favoriteLength,\n      getFavorite,\n      addProductToFavorite,\n      checkItemInFavorite,\n      deleteFromFavorite\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n};\n\n_s(FavoriteContextProvider, \"4m7vccIZ8Keq6ndhHxt+SMfGKKc=\");\n\n_c = FavoriteContextProvider;\nexport default FavoriteContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"FavoriteContextProvider\");","map":{"version":3,"names":["React","useReducer","favoriteContext","createContext","INIT_STATE","favorite","JSON","parse","localStorage","getItem","favoriteLength","reducer","state","action","type","payload","products","length","FavoriteContextProvider","children","dispatch","getFavorite","setItem","stringify","addProductToFavorite","product","newProduct","item","isProductInFavorite","some","id","filter","push","checkItemInFavorite","deleteFromFavorite"],"sources":["/Users/makhabatabdisattarova/Desktop/ZEON IT HUB/main-project/src/context/favoriteContext.js"],"sourcesContent":["import React, { useReducer } from \"react\";\nexport const favoriteContext = React.createContext();\n\nconst INIT_STATE = {\n  favorite: JSON.parse(localStorage.getItem(\"favorite\")),\n  favoriteLength: 0,\n};\n\nconst reducer = (state = INIT_STATE, action) => {\n  switch (action.type) {\n    case \"GET_FAVORITE\":\n      return {\n        ...state,\n        favorite: action.payload,\n        favoriteLength: action.payload.products.length,\n      };\n    default:\n      return state;\n  }\n};\n\nconst FavoriteContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, INIT_STATE);\n  function getFavorite() {\n    let favorite = JSON.parse(localStorage.getItem(\"favorite\"));\n    if (!favorite) {\n      favorite = {\n        products: [],\n      };\n      localStorage.setItem(\"favorite\", JSON.stringify(favorite));\n    }\n    dispatch({\n      type: \"GET_FAVORITE\",\n      payload: favorite,\n    });\n  }\n  function addProductToFavorite(product) {\n    let favorite = JSON.parse(localStorage.getItem(\"favorite\"));\n    if (!favorite) {\n      favorite = {\n        products: [],\n      };\n    }\n    let newProduct = {\n      item: product,\n      // count: 1,\n    };\n    let isProductInFavorite = favorite.products.some(\n      (item) => item.item.id == product.id\n    );\n    if (isProductInFavorite) {\n      favorite.products = favorite.products.filter(\n        (item) => item.item.id != product.id\n      );\n    } else {\n      favorite.products.push(newProduct);\n    }\n    localStorage.setItem(\"favorite\", JSON.stringify(favorite));\n    getFavorite();\n  }\n  function checkItemInFavorite(id) {\n    let favorite = JSON.parse(localStorage.getItem(\"favorite\"));\n    if (!favorite) {\n      favorite = {\n        products: [],\n      };\n    }\n    let isProductInFavorite = favorite.products.some(\n      (item) => item.item.id == id\n    );\n    return isProductInFavorite;\n  }\n  function deleteFromFavorite(id) {\n    let favorite = JSON.parse(localStorage.getItem(\"favorite\"));\n    if (!favorite) {\n      favorite = {\n        products: [],\n      };\n    }\n    favorite.products = favorite.products.filter((item) => item.item.id != id);\n    localStorage.setItem(\"favorite\", JSON.stringify(favorite));\n    getFavorite();\n  }\n  return (\n    <favoriteContext.Provider\n      value={{\n        favorite: state.favorite,\n        favoriteLength: state.favoriteLength,\n        getFavorite,\n        addProductToFavorite,\n        checkItemInFavorite,\n        deleteFromFavorite,\n      }}\n    >\n      {children}\n    </favoriteContext.Provider>\n  );\n};\nexport default FavoriteContextProvider;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}