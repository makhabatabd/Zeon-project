{"ast":null,"code":"var _jsxFileName = \"/Users/makhabatabdisattarova/Desktop/ZEON IT HUB/main-project/src/context/favoriteContext.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { createContext, useContext, useReducer } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst favoriteContext = /*#__PURE__*/createContext();\nexport const useFavorite = () => {\n  _s();\n\n  return useContext(favoriteContext);\n};\n\n_s(useFavorite, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nconst INIT_STATE = {\n  fav: JSON.parse(localStorage.getItem(\"fav\"))\n};\n\nfunction reducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : INIT_STATE;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case \"GET_FAV\":\n      return { ...state,\n        fav: action.payload\n      };\n\n    default:\n      return state;\n  }\n}\n\nconst FavoriteContextProvider = _ref => {\n  _s2();\n\n  let {\n    children\n  } = _ref;\n  const [state, dispatch] = useReducer(reducer, INIT_STATE);\n\n  function createFavFromLS() {\n    let fav = JSON.parse(localStorage.getItem(\"fav\"));\n\n    if (!fav) {\n      fav = {\n        products: []\n      };\n      localStorage.setItem(\"fav\", JSON.stringify(fav));\n    }\n\n    return fav;\n  }\n\n  const addDelToFav = prod => {\n    let fav = createFavFromLS();\n\n    if (!fav) {\n      fav = {\n        products: []\n      };\n    }\n\n    let newProd = {\n      item: prod\n    };\n    let checkProdInFav = fav.products.some(obj => {\n      return obj.item.id === prod.id;\n    });\n\n    if (checkProdInFav) {\n      fav.products = fav.products.filter(obj => {\n        return obj.item.id !== prod.id;\n      });\n    } else {\n      fav.products.push(newProd);\n    }\n\n    localStorage.setItem(\"fav\", JSON.stringify(fav));\n    dispatch({\n      type: \"GET_FAV\",\n      payload: fav\n    });\n  };\n\n  const isProdInFav = id => {\n    let fav = createFavFromLS();\n\n    if (!fav) {\n      fav = {\n        products: []\n      };\n    }\n\n    let exist = fav.products.some(obj => {\n      return obj.item.id === id;\n    });\n    return exist;\n  }; // render of Fav\n\n\n  const getFav = () => {\n    let fav = createFavFromLS();\n\n    if (!fav) {\n      fav = {\n        products: []\n      };\n    }\n\n    dispatch({\n      type: \"GET_FAV\",\n      payload: fav\n    });\n  }; // Deletes product from fav .\n  // const deleteProdInFav = (id) => {\n  //   let fav = createFavFromLS();\n  //   fav.products = fav.products.filter((elem) => {\n  //     return elem.item.id !== id;\n  //   });\n  //   localStorage.setItem(\"fav\", JSON.stringify(fav));\n  //   getFav();\n  // };\n\n\n  return /*#__PURE__*/_jsxDEV(favoriteContext.Provider, {\n    value: {\n      fav: state.fav,\n      addDelToFav,\n      getFav,\n      // deleteProdInFav,\n      isProdInFav\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(FavoriteContextProvider, \"4m7vccIZ8Keq6ndhHxt+SMfGKKc=\");\n\n_c = FavoriteContextProvider;\nexport default FavoriteContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"FavoriteContextProvider\");","map":{"version":3,"names":["React","createContext","useContext","useReducer","favoriteContext","useFavorite","INIT_STATE","fav","JSON","parse","localStorage","getItem","reducer","state","action","type","payload","FavoriteContextProvider","children","dispatch","createFavFromLS","products","setItem","stringify","addDelToFav","prod","newProd","item","checkProdInFav","some","obj","id","filter","push","isProdInFav","exist","getFav"],"sources":["/Users/makhabatabdisattarova/Desktop/ZEON IT HUB/main-project/src/context/favoriteContext.js"],"sourcesContent":["import React, { createContext, useContext, useReducer } from \"react\";\n\nconst favoriteContext = createContext();\nexport const useFavorite = () => {\n  return useContext(favoriteContext);\n};\n\nconst INIT_STATE = {\n  fav: JSON.parse(localStorage.getItem(\"fav\")),\n};\nfunction reducer(state = INIT_STATE, action) {\n  switch (action.type) {\n    case \"GET_FAV\":\n      return {\n        ...state,\n        fav: action.payload,\n      };\n    default:\n      return state;\n  }\n}\n\nconst FavoriteContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, INIT_STATE);\n\n  function createFavFromLS() {\n    let fav = JSON.parse(localStorage.getItem(\"fav\"));\n\n    if (!fav) {\n      fav = {\n        products: [],\n      };\n      localStorage.setItem(\"fav\", JSON.stringify(fav));\n    }\n    return fav;\n  }\n\n  const addDelToFav = (prod) => {\n    let fav = createFavFromLS();\n    if (!fav) {\n      fav = {\n        products: [],\n      };\n    }\n    let newProd = {\n      item: prod,\n    };\n\n    let checkProdInFav = fav.products.some((obj) => {\n      return obj.item.id === prod.id;\n    });\n    if (checkProdInFav) {\n      fav.products = fav.products.filter((obj) => {\n        return obj.item.id !== prod.id;\n      });\n    } else {\n      fav.products.push(newProd);\n    }\n    localStorage.setItem(\"fav\", JSON.stringify(fav));\n    dispatch({\n      type: \"GET_FAV\",\n      payload: fav,\n    });\n  };\n\n  const isProdInFav = (id) => {\n    let fav = createFavFromLS();\n    if (!fav) {\n      fav = {\n        products: [],\n      };\n    }\n    let exist = fav.products.some((obj) => {\n      return obj.item.id === id;\n    });\n    return exist;\n  };\n\n  // render of Fav\n  const getFav = () => {\n    let fav = createFavFromLS();\n    if (!fav) {\n      fav = {\n        products: [],\n      };\n    }\n    dispatch({\n      type: \"GET_FAV\",\n      payload: fav,\n    });\n  };\n\n  // Deletes product from fav .\n  // const deleteProdInFav = (id) => {\n  //   let fav = createFavFromLS();\n  //   fav.products = fav.products.filter((elem) => {\n  //     return elem.item.id !== id;\n  //   });\n  //   localStorage.setItem(\"fav\", JSON.stringify(fav));\n  //   getFav();\n  // };\n\n  return (\n    <favoriteContext.Provider\n      value={{\n        fav: state.fav,\n        addDelToFav,\n        getFav,\n        // deleteProdInFav,\n        isProdInFav,\n      }}\n    >\n      {children}\n    </favoriteContext.Provider>\n  );\n};\n\nexport default FavoriteContextProvider;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}